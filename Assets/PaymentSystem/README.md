# Freedom Pay Integration - –ü–ª–∞—Ç–µ–∂–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞

## üöÄ –û–±–∑–æ—Ä

–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –ø–ª–∞—Ç–µ–∂–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã Freedom Pay –¥–ª—è Unity –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è ComeBack —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º **–±–æ–µ–≤—ã—Ö –∫–ª—é—á–µ–π**.

### üìã –°—Ç–∞—Ç—É—Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- ‚úÖ **–†–µ–∂–∏–º**: –ë–æ–µ–≤–æ–π (Production)
- ‚úÖ **Merchant ID**: 552170
- ‚úÖ **–ö–ª—é—á–∏**: –ê–∫—Ç–∏–≤–Ω—ã–µ –±–æ–µ–≤—ã–µ –∫–ª—é—á–∏
- ‚úÖ **API**: https://api.freedompay.uz

## üîë –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ë–æ–µ–≤—ã–µ –∫–ª—é—á–∏ Freedom Pay

```csharp
Merchant ID: 552170
–°–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á –¥–ª—è –ø—Ä–∏–µ–º–∞: wUQ18x3bzP86MUzn
–°–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á –¥–ª—è –≤—ã–ø–ª–∞—Ç: lvA1DXTL8ILLLj0P
–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è: 23-04-2025 06:05:14
```

### URL –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- **API Base URL**: `https://api.freedompay.uz`
- **Return URL**: `app://comeback`
- **Timeout**: 300 —Å–µ–∫—É–Ω–¥ (5 –º–∏–Ω—É—Ç)

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

#### 1. **FreedomPayManager.cs**
- Singleton –º–µ–Ω–µ–¥–∂–µ—Ä –ø–ª–∞—Ç–µ–∂–µ–π
- –û–±—Ä–∞–±–æ—Ç–∫–∞ API –∑–∞–ø—Ä–æ—Å–æ–≤
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞–º–∏ –ø–ª–∞—Ç–µ–∂–µ–π
- –°–æ–±—ã—Ç–∏—è –ø–ª–∞—Ç–µ–∂–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã

#### 2. **PaymentUI.cs**
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –ø–ª–∞—Ç–µ–∂–µ–π
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–æ–π (30 –º–∏–Ω—É—Ç –¥–æ—Å—Ç—É–ø–∞)

#### 3. **PaymentTester.cs**
- –¢–µ—Å—Ç–æ–≤—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏
- –ë—ã—Å—Ç—Ä–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–µ–π
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã–º–∏ —Å—Ü–µ–Ω–∞—Ä–∏—è–º–∏

## üí∞ –õ–æ–≥–∏–∫–∞ –ø–ª–∞—Ç–µ–∂–µ–π

### –ü—Ä–æ—Ü–µ—Å—Å –æ–ø–ª–∞—Ç—ã

1. **–ò–Ω–∏—Ü–∏–∞—Ü–∏—è**: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç —Å—É–º–º—É
2. **API –∑–∞–ø—Ä–æ—Å**: –°–æ–∑–¥–∞–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–∞ —á–µ—Ä–µ–∑ Freedom Pay API
3. **–ë—Ä–∞—É–∑–µ—Ä**: –û—Ç–∫—Ä—ã—Ç–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –æ–ø–ª–∞—Ç—ã
4. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –∫–∞–∂–¥—ã–µ 5 —Å–µ–∫—É–Ω–¥
5. **–†–µ–∑—É–ª—å—Ç–∞—Ç**: –£—Å–ø–µ—Ö/–û—à–∏–±–∫–∞/–û–∂–∏–¥–∞–Ω–∏–µ

### –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≤–∞–ª—é—Ç—ã
```csharp
// 1 —Å—É–º = 100 —Ç–∏–π–∏–Ω
int amountInTiyin = amountInSums * 100;
```

### –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –¥–æ—Å—Ç—É–ø
- **–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: 30 –º–∏–Ω—É—Ç –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –æ–ø–ª–∞—Ç—ã
- **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ**: PlayerPrefs
- **–ü—Ä–æ–≤–µ—Ä–∫–∞**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–∞–∂–¥—ã–µ 5 —Å–µ–∫—É–Ω–¥

## üéÆ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ Unity

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å—Ü–µ–Ω—ã

1. **–°–æ–∑–¥–∞—Ç—å –æ–±—ä–µ–∫—Ç FreedomPayManager**:
   ```csharp
   GameObject paymentManager = new GameObject("FreedomPayManager");
   paymentManager.AddComponent<FreedomPayManager>();
   ```

2. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å UI –ø–∞–Ω–µ–ª—å**:
   - Canvas —Å PaymentPanel
   - –ö–Ω–æ–ø–∫–∏ –æ–ø–ª–∞—Ç—ã –∏ –∑–∞–∫—Ä—ã—Ç–∏—è
   - –ü–æ–ª—è –≤–≤–æ–¥–∞ —Å—É–º–º—ã
   - –¢–µ–∫—Å—Ç —Å—Ç–∞—Ç—É—Å–∞

3. **–î–æ–±–∞–≤–∏—Ç—å PaymentTester**:
   - –î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
   - –ë—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø –∫ –ø–ª–∞—Ç–µ–∂–Ω—ã–º –æ–ø–µ—Ä–∞—Ü–∏—è–º

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å AR –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º

```csharp
// –í VideoSpawner.cs
public void OnPaymentSuccess()
{
    // –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ AR –∫–æ–Ω—Ç–µ–Ω—Ç—É
    EnableARFeatures();
}

// –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–∞
if (paymentUI.HasActiveSubscription())
{
    // –ü–æ–∫–∞–∑–∞—Ç—å AR –æ–±—ä–µ–∫—Ç—ã
    ShowARObjects();
}
else
{
    // –ü–æ–∫–∞–∑–∞—Ç—å –ø–∞–Ω–µ–ª—å –æ–ø–ª–∞—Ç—ã
    paymentUI.ShowPaymentPanel();
}
```

## üîß API Integration

### –°–æ–∑–¥–∞–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–∞

```json
POST https://api.freedompay.uz/api/v1/payment/create
Authorization: Bearer wUQ18x3bzP86MUzn
Content-Type: application/json

{
    "merchant_id": "552170",
    "amount": 100000,
    "order_id": "order_123456789",
    "description": "–î–æ—Å—Ç—É–ø –∫ AR –æ–±—ä–µ–∫—Ç–∞–º",
    "return_url": "app://comeback",
    "timeout": 300
}
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞

```json
GET https://api.freedompay.uz/api/v1/payment/status/{payment_id}
Authorization: Bearer wUQ18x3bzP86MUzn
```

### –í–æ–∑–º–æ–∂–Ω—ã–µ —Å—Ç–∞—Ç—É—Å—ã
- `success` / `paid` - –ü–ª–∞—Ç–µ–∂ —É—Å–ø–µ—à–µ–Ω
- `failed` / `cancelled` - –ü–ª–∞—Ç–µ–∂ –æ—Ç–º–µ–Ω–µ–Ω
- `pending` / `processing` - –í –æ–±—Ä–∞–±–æ—Ç–∫–µ

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –¢–µ—Å—Ç–æ–≤—ã–µ —Å—É–º–º—ã
- 500 —Å—É–º (50,000 —Ç–∏–π–∏–Ω)
- 1,000 —Å—É–º (100,000 —Ç–∏–π–∏–Ω) - –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- 2,000 —Å—É–º (200,000 —Ç–∏–π–∏–Ω)
- 5,000 —Å—É–º (500,000 —Ç–∏–π–∏–Ω)

### –ú–µ—Ç–æ–¥—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

1. **QuickTest()** - –ë—ã—Å—Ç—Ä—ã–π —Ç–µ—Å—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
2. **ProcessPayment()** - –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª –ø–ª–∞—Ç–µ–∂–∞
3. **ClearSubscriptionData()** - –û—á–∏—Å—Ç–∫–∞ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö

## üîç –û—Ç–ª–∞–¥–∫–∞

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
```csharp
[FreedomPay] –ò–Ω–∏—Ü–∏–∞—Ü–∏—è –ø–ª–∞—Ç–µ–∂–∞: 100000 —Ç–∏–π–∏–Ω, –∑–∞–∫–∞–∑: order_123
[FreedomPay] –û—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞–ø—Ä–æ—Å–∞: {...}
[FreedomPay] –û—Ç–≤–µ—Ç —Å–µ—Ä–≤–µ—Ä–∞: {...}
[FreedomPay] –°—Ç–∞—Ç—É—Å –ø–ª–∞—Ç–µ–∂–∞: success
```

### –ö–æ–Ω—Å–æ–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã Unity
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –ø–æ–¥–ø–∏—Å–∫–∏
- –û—á–∏—Å—Ç–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –æ–ø–ª–∞—Ç—ã
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å API –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **–ë–æ–µ–≤—ã–µ –∫–ª—é—á–∏**: –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ä–µ–∞–ª—å–Ω—ã–µ –∫–ª—é—á–∏ –¥–ª—è production
2. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –ö–ª—é—á–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞—â–∏—â–µ–Ω—ã –≤ —Ñ–∏–Ω–∞–ª—å–Ω–æ–π —Å–±–æ—Ä–∫–µ
3. **–°–µ—Ç—å**: –¢—Ä–µ–±—É–µ—Ç—Å—è –∏–Ω—Ç–µ—Ä–Ω–µ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –¥–ª—è API
4. **–ë—Ä–∞—É–∑–µ—Ä**: –ù–µ–æ–±—Ö–æ–¥–∏–º –¥–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –æ–ø–ª–∞—Ç—ã
5. **–í–æ–∑–≤—Ä–∞—Ç**: –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å URL —Å—Ö–µ–º—É `app://comeback`

## üì± –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã

- ‚úÖ Android
- ‚úÖ iOS  
- ‚úÖ Windows (Editor –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏—è

### –í–µ—Ä—Å–∏—è 2.0
- –ë–æ–µ–≤—ã–µ –∫–ª—é—á–∏ Freedom Pay
- –ü–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è API
- –°–∏—Å—Ç–µ–º–∞ –ø–æ–¥–ø–∏—Å–æ–∫ –Ω–∞ 30 –º–∏–Ω—É—Ç
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å—Ç–∞—Ç—É—Å–æ–≤

### –ü–ª–∞–Ω—ã —Ä–∞–∑–≤–∏—Ç–∏—è
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –ø–µ—Ä–∏–æ–¥–æ–≤ –ø–æ–¥–ø–∏—Å–∫–∏
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –¥—Ä—É–≥–∏–º–∏ –ø–ª–∞—Ç–µ–∂–Ω—ã–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏
- –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –ø–ª–∞—Ç–µ–∂–µ–π

---

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è**: 2025-01-08  
**–°—Ç–∞—Ç—É—Å**: –ì–æ—Ç–æ–≤ –∫ production  
**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø–µ—Ä–µ–¥ —Ä–µ–ª–∏–∑–æ–º 